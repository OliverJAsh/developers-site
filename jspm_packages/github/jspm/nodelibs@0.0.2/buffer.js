"format cjs";function Buffer(e,t,n){if(!(this instanceof Buffer))return new Buffer(e,t,n);var r=typeof e;if("base64"===t&&"string"===r)for(e=stringtrim(e);e.length%4!==0;)e+="=";var i;if("number"===r)i=coerce(e);else if("string"===r)i=Buffer.byteLength(e,t);else{if("object"!==r)throw new Error("First argument needs to be a number, array or string.");i=coerce(e.length)}var s;Buffer._useTypedArrays?s=augment(new Uint8Array(i)):(s=this,s.length=i,s._isBuffer=!0);var o;if(Buffer._useTypedArrays&&"function"==typeof Uint8Array&&e instanceof Uint8Array)s._set(e);else if(isArrayish(e))for(o=0;i>o;o++)s[o]=Buffer.isBuffer(e)?e.readUInt8(o):e[o];else if("string"===r)s.write(e,0,t);else if("number"===r&&!Buffer._useTypedArrays&&!n)for(o=0;i>o;o++)s[o]=0;return s}function _hexWrite(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var s=t.length;assert(s%2===0,"Invalid hex string"),r>s/2&&(r=s/2);for(var o=0;r>o;o++){var a=parseInt(t.substr(2*o,2),16);assert(!isNaN(a),"Invalid hex string"),e[n+o]=a}return Buffer._charsWritten=2*o,o}function _utf8Write(e,t,n,r){var i=Buffer._charsWritten=blitBuffer(utf8ToBytes(t),e,n,r);return i}function _asciiWrite(e,t,n,r){var i=Buffer._charsWritten=blitBuffer(asciiToBytes(t),e,n,r);return i}function _binaryWrite(e,t,n,r){return _asciiWrite(e,t,n,r)}function _base64Write(e,t,n,r){var i=Buffer._charsWritten=blitBuffer(base64ToBytes(t),e,n,r);return i}function _base64Slice(e,t,n){return base64.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function _utf8Slice(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var s=t;n>s;s++)e[s]<=127?(r+=decodeUtf8Char(i)+String.fromCharCode(e[s]),i=""):i+="%"+e[s].toString(16);return r+decodeUtf8Char(i)}function _asciiSlice(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(e[i]);return r}function _binarySlice(e,t,n){return _asciiSlice(e,t,n)}function _hexSlice(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",s=t;n>s;s++)i+=toHex(e[s]);return i}function _readUInt16(e,t,n,r){r||(assert("boolean"==typeof n,"missing or invalid endian"),assert(void 0!==t&&null!==t,"missing offset"),assert(t+1<e.length,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var s;return n?(s=e[t],i>t+1&&(s|=e[t+1]<<8)):(s=e[t]<<8,i>t+1&&(s|=e[t+1])),s}}function _readUInt32(e,t,n,r){r||(assert("boolean"==typeof n,"missing or invalid endian"),assert(void 0!==t&&null!==t,"missing offset"),assert(t+3<e.length,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var s;return n?(i>t+2&&(s=e[t+2]<<16),i>t+1&&(s|=e[t+1]<<8),s|=e[t],i>t+3&&(s+=e[t+3]<<24>>>0)):(i>t+1&&(s=e[t+1]<<16),i>t+2&&(s|=e[t+2]<<8),i>t+3&&(s|=e[t+3]),s+=e[t]<<24>>>0),s}}function _readInt16(e,t,n,r){r||(assert("boolean"==typeof n,"missing or invalid endian"),assert(void 0!==t&&null!==t,"missing offset"),assert(t+1<e.length,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var s=_readUInt16(e,t,n,!0),o=32768&s;return o?-1*(65535-s+1):s}}function _readInt32(e,t,n,r){r||(assert("boolean"==typeof n,"missing or invalid endian"),assert(void 0!==t&&null!==t,"missing offset"),assert(t+3<e.length,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var s=_readUInt32(e,t,n,!0),o=2147483648&s;return o?-1*(4294967295-s+1):s}}function _readFloat(e,t,n,r){return r||(assert("boolean"==typeof n,"missing or invalid endian"),assert(t+3<e.length,"Trying to read beyond buffer length")),ieee754.read(e,t,n,23,4)}function _readDouble(e,t,n,r){return r||(assert("boolean"==typeof n,"missing or invalid endian"),assert(t+7<e.length,"Trying to read beyond buffer length")),ieee754.read(e,t,n,52,8)}function _writeUInt16(e,t,n,r,i){i||(assert(void 0!==t&&null!==t,"missing value"),assert("boolean"==typeof r,"missing or invalid endian"),assert(void 0!==n&&null!==n,"missing offset"),assert(n+1<e.length,"trying to write beyond buffer length"),verifuint(t,65535));var s=e.length;if(!(n>=s))for(var o=0,a=Math.min(s-n,2);a>o;o++)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function _writeUInt32(e,t,n,r,i){i||(assert(void 0!==t&&null!==t,"missing value"),assert("boolean"==typeof r,"missing or invalid endian"),assert(void 0!==n&&null!==n,"missing offset"),assert(n+3<e.length,"trying to write beyond buffer length"),verifuint(t,4294967295));var s=e.length;if(!(n>=s))for(var o=0,a=Math.min(s-n,4);a>o;o++)e[n+o]=t>>>8*(r?o:3-o)&255}function _writeInt16(e,t,n,r,i){i||(assert(void 0!==t&&null!==t,"missing value"),assert("boolean"==typeof r,"missing or invalid endian"),assert(void 0!==n&&null!==n,"missing offset"),assert(n+1<e.length,"Trying to write beyond buffer length"),verifsint(t,32767,-32768));var s=e.length;n>=s||(t>=0?_writeUInt16(e,t,n,r,i):_writeUInt16(e,65535+t+1,n,r,i))}function _writeInt32(e,t,n,r,i){i||(assert(void 0!==t&&null!==t,"missing value"),assert("boolean"==typeof r,"missing or invalid endian"),assert(void 0!==n&&null!==n,"missing offset"),assert(n+3<e.length,"Trying to write beyond buffer length"),verifsint(t,2147483647,-2147483648));var s=e.length;n>=s||(t>=0?_writeUInt32(e,t,n,r,i):_writeUInt32(e,4294967295+t+1,n,r,i))}function _writeFloat(e,t,n,r,i){i||(assert(void 0!==t&&null!==t,"missing value"),assert("boolean"==typeof r,"missing or invalid endian"),assert(void 0!==n&&null!==n,"missing offset"),assert(n+3<e.length,"Trying to write beyond buffer length"),verifIEEE754(t,3.4028234663852886e38,-3.4028234663852886e38));var s=e.length;n>=s||ieee754.write(e,t,n,r,23,4)}function _writeDouble(e,t,n,r,i){i||(assert(void 0!==t&&null!==t,"missing value"),assert("boolean"==typeof r,"missing or invalid endian"),assert(void 0!==n&&null!==n,"missing offset"),assert(n+7<e.length,"Trying to write beyond buffer length"),verifIEEE754(t,1.7976931348623157e308,-1.7976931348623157e308));var s=e.length;n>=s||ieee754.write(e,t,n,r,52,8)}function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function augment(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=BP.get,e.set=BP.set,e.write=BP.write,e.toString=BP.toString,e.toLocaleString=BP.toString,e.toJSON=BP.toJSON,e.copy=BP.copy,e.slice=BP.slice,e.readUInt8=BP.readUInt8,e.readUInt16LE=BP.readUInt16LE,e.readUInt16BE=BP.readUInt16BE,e.readUInt32LE=BP.readUInt32LE,e.readUInt32BE=BP.readUInt32BE,e.readInt8=BP.readInt8,e.readInt16LE=BP.readInt16LE,e.readInt16BE=BP.readInt16BE,e.readInt32LE=BP.readInt32LE,e.readInt32BE=BP.readInt32BE,e.readFloatLE=BP.readFloatLE,e.readFloatBE=BP.readFloatBE,e.readDoubleLE=BP.readDoubleLE,e.readDoubleBE=BP.readDoubleBE,e.writeUInt8=BP.writeUInt8,e.writeUInt16LE=BP.writeUInt16LE,e.writeUInt16BE=BP.writeUInt16BE,e.writeUInt32LE=BP.writeUInt32LE,e.writeUInt32BE=BP.writeUInt32BE,e.writeInt8=BP.writeInt8,e.writeInt16LE=BP.writeInt16LE,e.writeInt16BE=BP.writeInt16BE,e.writeInt32LE=BP.writeInt32LE,e.writeInt32BE=BP.writeInt32BE,e.writeFloatLE=BP.writeFloatLE,e.writeFloatBE=BP.writeFloatBE,e.writeDoubleLE=BP.writeDoubleLE,e.writeDoubleBE=BP.writeDoubleBE,e.fill=BP.fill,e.inspect=BP.inspect,e.toArrayBuffer=BP.toArrayBuffer,e}function clamp(e,t,n){return"number"!=typeof e?n:(e=~~e,e>=t?t:e>=0?e:(e+=t,e>=0?e:0))}function coerce(e){return e=~~Math.ceil(+e),0>e?0:e}function isArray(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function isArrayish(e){return isArray(e)||Buffer.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function toHex(e){return 16>e?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(127>=r)t.push(e.charCodeAt(n));else{var i=n;r>=55296&&57343>=r&&n++;for(var s=encodeURIComponent(e.slice(i,n+1)).substr(1).split("%"),o=0;o<s.length;o++)t.push(parseInt(s[o],16))}}return t}function asciiToBytes(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function base64ToBytes(e){return base64.toByteArray(e)}function blitBuffer(e,t,n,r){for(var i=0;r>i&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function decodeUtf8Char(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}function verifuint(e,t){assert("number"==typeof e,"cannot write a non-number as a number"),assert(e>=0,"specified a negative value for writing an unsigned value"),assert(t>=e,"value is larger than maximum value for type"),assert(Math.floor(e)===e,"value has a fractional component")}function verifsint(e,t,n){assert("number"==typeof e,"cannot write a non-number as a number"),assert(t>=e,"value larger than maximum allowed value"),assert(e>=n,"value smaller than minimum allowed value"),assert(Math.floor(e)===e,"value has a fractional component")}function verifIEEE754(e,t,n){assert("number"==typeof e,"cannot write a non-number as a number"),assert(t>=e,"value larger than maximum allowed value"),assert(e>=n,"value smaller than minimum allowed value")}function assert(e,t){if(!e)throw new Error(t||"Failed assertion")}var base64=require("npm:base64-js@^0.0.4"),ieee754=require("npm:ieee754@^1.1.1");exports.Buffer=Buffer,exports.SlowBuffer=Buffer,exports.INSPECT_MAX_BYTES=50,Buffer.poolSize=8192,Buffer._useTypedArrays=function(){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer)return!1;try{var e=new Uint8Array(0);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray}catch(t){return!1}}(),Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.isBuffer=function(e){return!(null===e||void 0===e||!e._isBuffer)},Buffer.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=utf8ToBytes(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=base64ToBytes(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},Buffer.concat=function(e,t){if(assert(isArray(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new Buffer(0);if(1===e.length)return e[0];var n;if("number"!=typeof t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=new Buffer(t),i=0;for(n=0;n<e.length;n++){var s=e[n];s.copy(r,i),i+=s.length}return r},Buffer.prototype.write=function(e,t,n,r){if(isFinite(t))isFinite(n)||(r=n,n=void 0);else{var i=r;r=t,t=n,n=i}t=Number(t)||0;var s=this.length-t;switch(n?(n=Number(n),n>s&&(n=s)):n=s,r=String(r||"utf8").toLowerCase()){case"hex":return _hexWrite(this,e,t,n);case"utf8":case"utf-8":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _utf8Write(this,e,t,n);case"ascii":return _asciiWrite(this,e,t,n);case"binary":return _binaryWrite(this,e,t,n);case"base64":return _base64Write(this,e,t,n);default:throw new Error("Unknown encoding")}},Buffer.prototype.toString=function(e,t,n){var r=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,n=void 0!==n?Number(n):n=r.length,n===t)return"";switch(e){case"hex":return _hexSlice(r,t,n);case"utf8":case"utf-8":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _utf8Slice(r,t,n);case"ascii":return _asciiSlice(r,t,n);case"binary":return _binarySlice(r,t,n);case"base64":return _base64Slice(r,t,n);default:throw new Error("Unknown encoding")}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.copy=function(e,t,n,r){var i=this;if(n||(n=0),r||0===r||(r=this.length),t||(t=0),r!==n&&0!==e.length&&0!==i.length){assert(r>=n,"sourceEnd < sourceStart"),assert(t>=0&&t<e.length,"targetStart out of bounds"),assert(n>=0&&n<i.length,"sourceStart out of bounds"),assert(r>=0&&r<=i.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);for(var s=0;r-n>s;s++)e[s+t]=this[s+n]}},Buffer.prototype.slice=function(e,t){var n=this.length;if(e=clamp(e,n,0),t=clamp(t,n,n),Buffer._useTypedArrays)return augment(this.subarray(e,t));for(var r=t-e,i=new Buffer(r,void 0,!0),s=0;r>s;s++)i[s]=this[s+e];return i},Buffer.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},Buffer.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},Buffer.prototype.readUInt8=function(e,t){return t||(assert(void 0!==e&&null!==e,"missing offset"),assert(e<this.length,"Trying to read beyond buffer length")),e>=this.length?void 0:this[e]},Buffer.prototype.readUInt16LE=function(e,t){return _readUInt16(this,e,!0,t)},Buffer.prototype.readUInt16BE=function(e,t){return _readUInt16(this,e,!1,t)},Buffer.prototype.readUInt32LE=function(e,t){return _readUInt32(this,e,!0,t)},Buffer.prototype.readUInt32BE=function(e,t){return _readUInt32(this,e,!1,t)},Buffer.prototype.readInt8=function(e,t){if(t||(assert(void 0!==e&&null!==e,"missing offset"),assert(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length)){var n=128&this[e];return n?-1*(255-this[e]+1):this[e]}},Buffer.prototype.readInt16LE=function(e,t){return _readInt16(this,e,!0,t)},Buffer.prototype.readInt16BE=function(e,t){return _readInt16(this,e,!1,t)},Buffer.prototype.readInt32LE=function(e,t){return _readInt32(this,e,!0,t)},Buffer.prototype.readInt32BE=function(e,t){return _readInt32(this,e,!1,t)},Buffer.prototype.readFloatLE=function(e,t){return _readFloat(this,e,!0,t)},Buffer.prototype.readFloatBE=function(e,t){return _readFloat(this,e,!1,t)},Buffer.prototype.readDoubleLE=function(e,t){return _readDouble(this,e,!0,t)},Buffer.prototype.readDoubleBE=function(e,t){return _readDouble(this,e,!1,t)},Buffer.prototype.writeUInt8=function(e,t,n){n||(assert(void 0!==e&&null!==e,"missing value"),assert(void 0!==t&&null!==t,"missing offset"),assert(t<this.length,"trying to write beyond buffer length"),verifuint(e,255)),t>=this.length||(this[t]=e)},Buffer.prototype.writeUInt16LE=function(e,t,n){_writeUInt16(this,e,t,!0,n)},Buffer.prototype.writeUInt16BE=function(e,t,n){_writeUInt16(this,e,t,!1,n)},Buffer.prototype.writeUInt32LE=function(e,t,n){_writeUInt32(this,e,t,!0,n)},Buffer.prototype.writeUInt32BE=function(e,t,n){_writeUInt32(this,e,t,!1,n)},Buffer.prototype.writeInt8=function(e,t,n){n||(assert(void 0!==e&&null!==e,"missing value"),assert(void 0!==t&&null!==t,"missing offset"),assert(t<this.length,"Trying to write beyond buffer length"),verifsint(e,127,-128)),t>=this.length||(e>=0?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},Buffer.prototype.writeInt16LE=function(e,t,n){_writeInt16(this,e,t,!0,n)},Buffer.prototype.writeInt16BE=function(e,t,n){_writeInt16(this,e,t,!1,n)},Buffer.prototype.writeInt32LE=function(e,t,n){_writeInt32(this,e,t,!0,n)},Buffer.prototype.writeInt32BE=function(e,t,n){_writeInt32(this,e,t,!1,n)},Buffer.prototype.writeFloatLE=function(e,t,n){_writeFloat(this,e,t,!0,n)},Buffer.prototype.writeFloatBE=function(e,t,n){_writeFloat(this,e,t,!1,n)},Buffer.prototype.writeDoubleLE=function(e,t,n){_writeDouble(this,e,t,!0,n)},Buffer.prototype.writeDoubleBE=function(e,t,n){_writeDouble(this,e,t,!1,n)},Buffer.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),"string"==typeof e&&(e=e.charCodeAt(0)),assert("number"==typeof e&&!isNaN(e),"value is not a number"),assert(n>=t,"end < start"),n!==t&&0!==this.length){assert(t>=0&&t<this.length,"start out of bounds"),assert(n>=0&&n<=this.length,"end out of bounds");for(var r=t;n>r;r++)this[r]=e}},Buffer.prototype.inspect=function(){for(var e=[],t=this.length,n=0;t>n;n++)if(e[n]=toHex(this[n]),n===exports.INSPECT_MAX_BYTES){e[n+1]="...";break}return"<Buffer "+e.join(" ")+">"},Buffer.prototype.toArrayBuffer=function(){if("function"==typeof Uint8Array){if(Buffer._useTypedArrays)return new Buffer(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;n>t;t+=1)e[t]=this[t];return e.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var BP=Buffer.prototype;
//# sourceMappingURL=buffer.js.map