"format cjs";ejs=function(){function require(e){if("fs"==e)return{};if("path"==e)return{};var r=require.resolve(e),n=require.modules[r];if(!n)throw new Error('failed to require "'+e+'"');return n.exports||(n.exports={},n.call(n.exports,n,n.exports,require.relative(r))),n.exports}return require.modules={},require.resolve=function(e){var r=e,n=e+".js",t=e+"/index.js";return require.modules[n]&&n||require.modules[t]&&t||r},require.register=function(e,r){require.modules[e]=r},require.relative=function(e){return function(r){if("."!=r.substr(0,1))return require(r);var n=e.split("/"),t=r.split("/");n.pop();for(var i=0;i<t.length;i++){var s=t[i];".."==s?n.pop():"."!=s&&n.push(s)}return require(n.join("/"))}},require.register("ejs.js",function(e,r,require){function n(e){return e.substr(1).split("|").reduce(function(e,r){var n=r.split(":"),t=n.shift(),i=n.join(":")||"";return i&&(i=", "+i),"filters."+t+"("+e+i+")"})}function t(e,r,n,t){var i=r.split("\n"),s=Math.max(t-3,0),o=Math.min(i.length,t+3),u=i.slice(s,o).map(function(e,r){var n=r+s+1;return(n==t?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=n,e.message=(n||"ejs")+":"+t+"\n"+u+"\n\n"+e.message,e}function i(e,r){var n=c(u(r),e),t=a(e);return t||(n+=".ejs"),n}var s=require("./utils"),o=require("github:jspm/nodelibs@0.0.2/path"),u=o.dirname,a=o.extname,c=o.join,l=require("github:jspm/nodelibs@0.0.2/fs"),f=l.readFileSync,p=r.filters=require("./filters"),m={};r.clearCache=function(){m={}};var g=(r.parse=function(e,t){var t=t||{},s=t.open||r.open||"<%",o=t.close||r.close||"%>",u=t.filename,a=t.compileDebug!==!1,c="";c+="var buf = [];",!1!==t._with&&(c+="\nwith (locals || {}) { (function(){ "),c+="\n buf.push('";for(var l=1,p=!1,m=0,g=e.length;g>m;++m){var h=e[m];if(e.slice(m,s.length+m)==s){m+=s.length;var d,v,b=(a?"__stack.lineno=":"")+l;switch(e[m]){case"=":d="', escape(("+b+", ",v=")), '",++m;break;case"-":d="', ("+b+", ",v="), '",++m;break;default:d="');"+b+";",v="; buf.push('"}var j=e.indexOf(o,m);if(0>j)throw new Error('Could not find matching close tag "'+o+'".');var _=e.substring(m,j),w=m,x=null,y=0;if("-"==_[_.length-1]&&(_=_.substring(0,_.length-2),p=!0),0==_.trim().indexOf("include")){var S=_.trim().slice(7).trim();if(!u)throw new Error("filename option is required for includes");var N=i(S,u);x=f(N,"utf8"),x=r.parse(x,{filename:N,_with:!1,open:s,close:o,compileDebug:a}),c+="' + (function(){"+x+"})() + '",_=""}for(;~(y=_.indexOf("\n",y));)y++,l++;":"==_.substr(0,1)&&(_=n(_)),_&&(_.lastIndexOf("//")>_.lastIndexOf("\n")&&(_+="\n"),c+=d,c+=_,c+=v),m+=j-w+o.length-1}else"\\"==h?c+="\\\\":"'"==h?c+="\\'":"\r"==h||("\n"==h?p?p=!1:(c+="\\n",l++):c+=h)}return c+=!1!==t._with?"'); })();\n} \nreturn buf.join('');":"');\nreturn buf.join('');"},r.compile=function(e,n){n=n||{};var i=n.escape||s.escape,o=JSON.stringify(e),u=n.compileDebug!==!1,a=n.client,c=n.filename?JSON.stringify(n.filename):"undefined";e=u?["var __stack = { lineno: 1, input: "+o+", filename: "+c+" };",t.toString(),"try {",r.parse(e,n),"} catch (err) {","  rethrow(err, __stack.input, __stack.filename, __stack.lineno);","}"].join("\n"):r.parse(e,n),n.debug&&console.log(e),a&&(e="escape = escape || "+i.toString()+";\n"+e);try{var l=new Function("locals, filters, escape, rethrow",e)}catch(f){throw"SyntaxError"==f.name&&(f.message+=n.filename?" in "+c:" while compiling ejs"),f}return a?l:function(e){return l.call(this,e,p,i,t)}});r.render=function(e,r){var n,r=r||{};if(r.cache){if(!r.filename)throw new Error('"cache" option requires "filename".');n=m[r.filename]||(m[r.filename]=g(e,r))}else n=g(e,r);return r.__proto__=r.locals,n.call(r.scope,r)},r.renderFile=function(e,n,t){var i=e+":string";"function"==typeof n&&(t=n,n={}),n.filename=e;var s;try{s=n.cache?m[i]||(m[i]=f(e,"utf8")):f(e,"utf8")}catch(o){return void t(o)}t(null,r.render(s,n))},r.__express=r.renderFile,require.extensions?require.extensions[".ejs"]=function(e,r){r=r||e.filename;var n={filename:r,client:!0},t=l.readFileSync(r).toString(),i=g(t,n);e._compile("module.exports = "+i.toString()+";",r)}:require.registerExtension&&require.registerExtension(".ejs",function(e){return g(e,{})})}),require.register("filters.js",function(e,r){r.first=function(e){return e[0]},r.last=function(e){return e[e.length-1]},r.capitalize=function(e){return e=String(e),e[0].toUpperCase()+e.substr(1,e.length)},r.downcase=function(e){return String(e).toLowerCase()},r.upcase=function(e){return String(e).toUpperCase()},r.sort=function(e){return Object.create(e).sort()},r.sort_by=function(e,r){return Object.create(e).sort(function(e,n){return e=e[r],n=n[r],e>n?1:n>e?-1:0})},r.size=r.length=function(e){return e.length},r.plus=function(e,r){return Number(e)+Number(r)},r.minus=function(e,r){return Number(e)-Number(r)},r.times=function(e,r){return Number(e)*Number(r)},r.divided_by=function(e,r){return Number(e)/Number(r)},r.join=function(e,r){return e.join(r||", ")},r.truncate=function(e,r,n){return e=String(e),e.length>r&&(e=e.slice(0,r),n&&(e+=n)),e},r.truncate_words=function(e,r){var e=String(e),n=e.split(/ +/);return n.slice(0,r).join(" ")},r.replace=function(e,r,n){return String(e).replace(r,n||"")},r.prepend=function(e,r){return Array.isArray(e)?[r].concat(e):r+e},r.append=function(e,r){return Array.isArray(e)?e.concat(r):e+r},r.map=function(e,r){return e.map(function(e){return e[r]})},r.reverse=function(e){return Array.isArray(e)?e.reverse():String(e).split("").reverse().join("")},r.get=function(e,r){return e[r]},r.json=function(e){return JSON.stringify(e)}}),require.register("utils.js",function(e,r){r.escape=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")}}),require("ejs")}();
//# sourceMappingURL=ejs.min.js.map