{"version":3,"file":"ejs.js","sources":["ejs.src.js"],"names":["filtered","js","substr","split","reduce","filter","parts","name","shift","args","join","rethrow","err","str","filename","lineno","lines","start","Math","max","end","min","length","context","slice","map","line","i","curr","path","message","resolveInclude","dirname","ext","extname","utils","require","fs","read","readFileSync","filters","exports","cache","clearCache","parse","options","open","close","compileDebug","buf","_with","consumeEOL","len","stri","prefix","postfix","indexOf","Error","substring","include","n","trim","lastIndexOf","compile","escape","input","JSON","stringify","client","toString","debug","console","log","fn","Function","locals","call","this","render","__proto__","scope","renderFile","key","__express","extensions","module","template","_compile","registerExtension","src"],"mappings":"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"}